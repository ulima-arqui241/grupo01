# **Tópicos en Arquitectura de Software**

## 1. Tema

DevOps

## 2. Desarrollo Conceptual

### a. Comparación de definiciones:

Amazon

> DevOps is the combination of cultural philosophies, practices, and tools that increases an organization’s ability to deliver applications and services at **high velocity**.

Microsoft

> DevOps combines development (Dev) and operations (Ops) to unite people, process, and technology in application planning, development, delivery, and operations to increase confidence in the applications they build, respond better to customer needs, and achieve business goals **faster**.

Google

> DevOps, the organizational and cultural movement that aims to **increase software delivery velocity**, improve service reliability, and build shared ownership among software stakeholders.

IBM

> DevOps is a software development methodology that **accelerates** the delivery of higher-quality applications and services by combining and automating the work of software development and IT operations teams.

Red Hat

> DevOps is an approach to culture, automation, and platform design intended to deliver increased business value and responsiveness through **rapid**, high-quality service delivery. This is all made possible through **fast-paced**, iterative IT service delivery. 

Oracle

> DevOps is a combination of two functions that are typically treated separately: development and operations. DevOps standardized development methodology, clear communication, and documented processes supported by a standards-based, proven middleware platform improve application development and management cycles, **bring agility**, and provide greater availability and security to your IT infrastructure.

### b. DevOps como una cultura:

Según Amazon:

> 1. Cambio de Cultura y Mentalidad:
> - La adopción de DevOps requiere un cambio en la cultura y la mentalidad de la organización.
> 2. Eliminación de Barreras:
> - DevOps trata de eliminar las barreras entre los equipos de desarrollo y operaciones, tradicionalmente aislados.
> 3. Colaboración entre Equipos:
> - Los equipos de desarrollo y operaciones trabajan juntos para optimizar la productividad de los desarrolladores y la fiabilidad de las operaciones.
> 4. Comunicación y Eficiencia:
> - Se esfuerzan por comunicarse con frecuencia, aumentar las eficiencias y mejorar la calidad de los servicios que proporcionan a los clientes.
> 5. Propiedad Completa de los Servicios:
> - Los equipos toman plena responsabilidad de sus servicios, a menudo más allá de sus roles o títulos tradicionales, pensando en las necesidades del cliente final y cómo pueden contribuir a resolver esas necesidades.
> 6. Integración con QA y Seguridad:
> - Los equipos de aseguramiento de calidad (QA) y seguridad pueden integrarse estrechamente con los equipos de desarrollo y operaciones.
> 7. Responsabilidad del Ciclo de Vida Completo:
> - Las organizaciones que utilizan un modelo DevOps, independientemente de su estructura organizativa, tienen equipos que ven el ciclo de vida completo del desarrollo y la infraestructura como parte de sus responsabilidades.

Según Microsoft:

> 1. Adopción de una Cultura DevOps:
> - Para implementar completamente DevOps, es necesario adoptar una cultura DevOps, lo cual requiere cambios profundos en la forma en que las personas trabajan y colaboran.
> 2. Entorno para Equipos de Alto Rendimiento:
> - Comprometerse con una cultura DevOps crea un entorno en el que pueden evolucionar equipos de alto rendimiento.
> 3. Colaboración, Visibilidad y Alineación:
> - Un elemento distintivo de una cultura DevOps saludable es la colaboración entre equipos.
> - La colaboración comienza con la visibilidad, donde los equipos de desarrollo, IT y otros comparten sus procesos, prioridades y preocupaciones.
> - Al planificar juntos, los equipos se alinean mejor en metas y medidas de éxito relacionadas con el negocio.
> 4. Cambios en el Alcance y la Responsabilidad:
> - A medida que los equipos se alinean, toman responsabilidad y se involucran en otras fases del ciclo de vida, no solo en las centrales a sus roles.
> - Por ejemplo, los desarrolladores se hacen responsables no solo de la innovación y calidad en la fase de desarrollo, sino también del rendimiento y estabilidad en la fase de operación.
> - Los operadores de IT aseguran incluir gobernanza, seguridad y cumplimiento en las fases de planificación y desarrollo.
> 5. Ciclos de Lanzamiento Más Cortos:
> - Los equipos DevOps se mantienen ágiles liberando software en ciclos cortos.
> - Los ciclos de lanzamiento más cortos facilitan la planificación y gestión de riesgos al hacer el progreso incremental, reduciendo también el impacto en la estabilidad del sistema.
> - Esto permite a las organizaciones adaptarse y reaccionar a las necesidades cambiantes de los clientes y a la presión competitiva.
> 6. Aprendizaje Continuo:
> - Los equipos DevOps de alto rendimiento establecen una mentalidad de crecimiento.
> - Aprenden rápidamente de los fracasos y incorporan estos aprendizajes en sus procesos.
> - Se esfuerzan por mejorar continuamente, aumentar la satisfacción del cliente y acelerar la innovación y la adaptabilidad al mercado.

Según IBM:

> 1. Compromiso con la Cultura DevOps:
> - Los métodos DevOps no funcionan sin un compromiso con la cultura DevOps, que implica un enfoque organizacional y técnico diferente para el desarrollo de software.
> 2. Comunicación, Colaboración y Responsabilidad Compartida:
> - A nivel organizacional, DevOps requiere comunicación continua, colaboración y responsabilidad compartida entre todos los interesados en la entrega de software.
> - Esto incluye no solo a los equipos de desarrollo de software y operaciones de TI, sino también a los equipos de seguridad, cumplimiento, gobernanza, riesgo y líneas de negocio.
> 3. Rompimiento de Silos y Equipos Multifuncionales Autónomos:
> - La mejor manera de lograr esto es romper los silos y reorganizar el personal en equipos DevOps multifuncionales y autónomos.
> - Estos equipos deben poder trabajar en proyectos de principio a fin (desde la planificación hasta la retroalimentación) sin tener que hacer transferencias a otros equipos o esperar su aprobación.
> 4. Enfoque en la Calidad desde el Inicio:
> - En el contexto del desarrollo ágil, la responsabilidad compartida y la colaboración son la base de un enfoque de producto compartido con resultados valiosos.
> 5. Compromiso con la Automatización:
> - A nivel técnico, DevOps requiere un compromiso con la automatización para mantener los proyectos en movimiento dentro y entre los flujos de trabajo.
> 6. Retroalimentación y Medición:
> - La retroalimentación y la medición son esenciales para que los equipos puedan acelerar continuamente los ciclos y mejorar la calidad y el rendimiento del software.

### c. Los puestos de DevOps:

Dentro de la industria, existen diversos tipos de ingenieros dedicados a implementar y mantener la cultura DevOps. Sin embargo, la adopción de DevOps no se limita a la creación de un puesto específico de DevOps; en su lugar, todos los roles dentro de la empresa evolucionan y se adaptan para maximizar los beneficios de esta cultura de colaboración y automatización.

> 1. Desarrolladores de Software:
> - Evolución: Se convierten en desarrolladores DevOps o ingenieros de software DevOps.
> - Nuevas Responsabilidades: Involucrarse en el ciclo de vida completo del desarrollo, desde la codificación hasta el despliegue y monitoreo. También adquieren habilidades en automatización y gestión de infraestructura como código.
> 2. Administradores de Sistemas:
> - Evolución: Se transforman en ingenieros de operaciones de DevOps o ingenieros de confiabilidad del sitio (SRE).
> - Nuevas Responsabilidades: Automatización de procesos operativos, mantenimiento de infraestructura, aseguramiento de la disponibilidad y rendimiento del sistema, y participación en el desarrollo de herramientas de monitoreo y alerta.
> 3. Especialistas en QA (Control de Calidad):
> - Evolución: Se convierten en ingenieros de pruebas de DevOps o ingenieros de aseguramiento de calidad DevOps.
> - Nuevas Responsabilidades: Integrar pruebas automatizadas en el pipeline de CI/CD, colaborar estrechamente con desarrolladores para asegurar la calidad desde el inicio, y ayudar en la implementación de prácticas de prueba continua.
> 4. Ingenieros de Seguridad:
> - Evolución: Se transforman en ingenieros de DevSecOps.
> - Nuevas Responsabilidades: Integrar prácticas de seguridad en todo el ciclo de desarrollo, realizar análisis de seguridad continuo y automatizado, y colaborar con desarrolladores y operadores para asegurar que la seguridad esté integrada en cada fase del desarrollo y despliegue.
> 5. Gestores de Proyecto/Producto:
> - Evolución: Asumen roles de gestores de producto DevOps o propietarios de producto DevOps.
> - Nuevas Responsabilidades: Fomentar la colaboración entre equipos, asegurar que las prácticas de DevOps se alineen con los objetivos del negocio, y facilitar la comunicación y coordinación entre todos los stakeholders.
> 6. Analistas de Datos:
> - Evolución: Pueden evolucionar hacia roles de analistas de rendimiento de DevOps.
> - Nuevas Responsabilidades: Proporcionar retroalimentación basada en datos sobre el rendimiento del software, monitorear métricas clave de rendimiento y ayudar en la toma de decisiones basadas en datos para mejoras continuas.
> 7. Ingenieros de Redes:
> - Evolución: Se convierten en ingenieros de redes de DevOps.
> - Nuevas Responsabilidades: Automatizar la configuración y gestión de redes, colaborar con otros equipos para asegurar la integración de la red en los pipelines de CI/CD, y asegurar que la red soporte las necesidades de despliegue y operación continua.

Sin embargo, también existen puestos de Ingeniero de DevOps. Los ingenieros DevOps con enfoque en AWS, requieren tener la siguientes habilitades y conocimientos:

> 1. Automatización y Orquestación:
> - Crear y mantener pipelines de CI/CD para automatizar el proceso de construcción, prueba y despliegue de aplicaciones.
> - Utilizar herramientas como AWS CodePipeline, AWS CodeBuild, y AWS CodeDeploy para implementar automatizaciones.
> - Herramientas open source: Jenkins, GitLab CI/CD, CircleCI, Travis CI.
> 2. Gestión de Infraestructura como código (IaC):
> - Diseñar y gestionar la infraestructura en la nube utilizando herramientas como AWS CloudFormation, Terraform o AWS Elastic Beanstalk.
> - Implementar y administrar redes virtuales (VPCs), subredes, gateways y configuraciones de red.
> - Herramientas open source: Terraform, Ansible, Pulumi, Chef, Puppet.
> 3. Monitorización y Loggin:
> - Configurar y mantener herramientas de monitoreo y logging como Amazon CloudWatch, AWS X-Ray y AWS CloudTrail.
> - Configurar alertas y notificaciones para eventos críticos y problemas de rendimiento.
> - Herramientas open source: Prometheus (monitorización); Grafana (visualización); ELK Stack (Elasticsearch, Logstash, Kibana) para logging y análisis; Jaeger o Zipkin (tracing distribuido)
> 4. Escalabilidad y Rendimiento:
> - Implementar estrategias de escalado automático usando AWS Auto Scaling para ajustar la capacidad de los servicios según la demanda.
> - Optimizar el rendimiento de las aplicaciones y la infraestructura para asegurar tiempos de respuesta rápidos y alta disponibilidad.
> - Herramientas open source: Kubernetes con Horizontal Pod Autoscaler (HPA), HashiCorp Nomad.
> 5. Seguridad y Cumplimiento:
> - Asegurar que las mejores prácticas de seguridad se implementen en toda la infraestructura, utilizando servicios como AWS Identity and Access Management (IAM), AWS Key Management Service (KMS) y AWS Shield.
> - Configurar políticas de acceso, cifrado de datos y auditorías de seguridad para cumplir con las normativas y estándares de la industria.
> - Herramientas open source: Keycloak (gestión de identidad y acceso), HashiCorp Vault (gestión de secretos y claves), Let’s Encrypt + Certbot (para certificados SSL/TLS), Open Policy Agent (OPA) (para políticas y cumplimiento).
> 6. Gestión de Configuraciones:
> - Utilizar herramientas de gestión de configuraciones como AWS Systems Manager para automatizar la administración de instancias y recursos.
> - Mantener consistencia en las configuraciones y realizar despliegues de manera repetible y predecible.
> - Herramientas open source: Ansible, Chef, Puppet, SaltStack.
> 7. Backup y Recuperación:
> - Implementar y gestionar políticas de backup y recuperación utilizando servicios como AWS Backup y Amazon S3.
> - Asegurar la continuidad del negocio y la recuperación ante desastres mediante planes de recuperación probados.
> - Herramientas open source: Restic (herramienta de backup), BorgBackup (Borg) (herramienta de backup), MinIO (alternativa a Amazon S3 para almacenamiento de objetos).
> 8. Colaboración y Soporte:
> - Trabajar en estrecha colaboración con los equipos de desarrollo para entender sus necesidades y proporcionar soluciones adecuadas.
> - Ofrecer soporte continuo y resolver incidentes relacionados con la infraestructura y las aplicaciones desplegadas en AWS.
> 9. Optimización de Costos:
> - Monitorear y optimizar el uso de recursos en AWS para minimizar costos, utilizando herramientas como AWS Cost Explorer y AWS Trusted Advisor.
> - Implementar estrategias de reserva y uso eficiente de instancias para reducir gastos.
> 10. Actualización y Capacitación:
> - Mantenerse actualizado con las nuevas características y servicios de AWS.
> - Capacitar y guiar a otros miembros del equipo sobre las mejores prácticas y el uso eficiente de las herramientas de AWS.

Puestos afines a un ingeniero de DevOps:

> - DevOps Architect
> - DevOps Manager
> - DevSecOps Engineer
> - CI/CD Engineer
> - Test Automation Engineer
> - Site Reliability Engineer (SRE)
> - Platform Engineer
> - Operations Engineer
> - IT Administrator
> - System Administrator
> - Software Developer


### d. Beneficios de Implementar la cultura DevOps:

> - Mayor Velocidad de Entrega.
> - Mejora en la Calidad del Software.
> - Reducción de Costos.
> - Mayor Satisfacción del Cliente.


### e. Herramientas para DevOps:

Herramientas Gratuitas (Free)
| Herramienta | Uso |
|---|---|
| Git | Sistema de control de versiones distribuido |
| Jenkins | Herramienta de automatización de código abierto para integración continua y entrega continua (CI/CD) |
| Docker | Plataforma para desarrollar, enviar y ejecutar aplicaciones en contenedores |
| Kubernetes | Sistema de orquestación de contenedores de código abierto |
| Prometheus | Sistema de monitoreo y alerta de código abierto |
| Grafana | Plataforma de análisis y monitoreo de código abierto |
| Ansible | Herramienta de automatización de configuración y administración de sistemas |
| Terraform | Herramienta de infraestructura como código (IaC) de código abierto |
| Nagios | Herramienta de monitoreo de redes y sistemas |
| ELK Stack (Elasticsearch, Logstash, Kibana) | Conjunto de herramientas para búsqueda, análisis y visualización de datos en tiempo real |

Herramientas de Paga (Paid)
| Herramienta | Uso |
|---|---|
| GitHub Enterprise | Plataforma de desarrollo colaborativo basada en Git con características avanzadas y soporte empresarial |
| GitLab EE (Enterprise Edition) | Plataforma de DevOps que incluye CI/CD, gestión de código fuente y más, con características avanzadas y soporte |
| Bitbucket | Servicio de alojamiento de repositorios Git con capacidades de CI/CD y herramientas de colaboración |
| CircleCI | Servicio de integración y entrega continua con planes de pago para características avanzadas |
| Atlassian Bamboo | Herramienta de CI/CD que se integra con otras herramientas de Atlassian como Jira y Bitbucket |
| Puppet Enterprise | Herramienta de automatización de infraestructura con características avanzadas y soporte |
| Chef Automate | Plataforma de automatización para infraestructura, aplicaciones y cumplimiento |
| Splunk | Plataforma para búsqueda, monitoreo y análisis de datos de máquina con características avanzadas de monitoreo y visualización |
| Datadog | Plataforma de monitoreo y análisis para aplicaciones en la nube, con soporte para múltiples integraciones y características avanzadas |
| New Relic | Plataforma de monitoreo del rendimiento de aplicaciones (APM) con capacidades avanzadas de análisis y alertas |

Herramientas Freemium (Free con opciones de paga)
| Herramienta | Uso |
|---|---|
| Azure DevOps | Conjunto de servicios DevOps de Microsoft, gratuito con límites y opciones de pago para características avanzadas |
| Travis CI | Servicio de CI/CD, gratuito para proyectos de código abierto con opciones de pago para proyectos privados |
| Snyk | Herramienta de seguridad para desarrolladores, gratuita con límites y opciones de pago para características avanzadas |
| PagerDuty | Herramienta de gestión de incidentes y alertas, gratuita con límites y opciones de pago para características avanzadas |
| Terraform Cloud | Servicio gestionado para Terraform, gratuito con límites y opciones de pago para características avanzadas |

### e. El ciclo de vida de Devops:

Según Atlassian, el ciclo de vida de DevOps se representa con un bucle infinito, simbolizando la colaboración y mejora continua. Se divide en ocho fases que integran desarrollo y operaciones:

> 1. Descubrir: Los equipos colaboran en talleres para explorar y priorizar ideas, alineándolas con objetivos estratégicos y el impacto en los clientes, guiados por metodologías ágiles.
> 2. Planificar: Adopción de prácticas ágiles para mejorar la velocidad y calidad mediante la gestión iterativa de proyectos y desarrollo de software.
> 3. Compilar: Uso de Git como sistema de control de versiones para gestionar ramas, fusiones e historiales, facilitando herramientas y flujos de trabajo eficaces.
> 4. Probar: Integración continua (CI) para fusionar cambios de código y realizar pruebas automatizadas, garantizando la calidad y previsibilidad del código.
> 5. Implementar: Implementación continua (CD) que permite publicar funciones de forma automática y constante, mejorando la velocidad y productividad.
> 6. Operar: Gestión integral de servicios de TI, abarcando diseño, implementación, configuración y mantenimiento de la infraestructura.
> 7. Observar: Supervisión para identificar y resolver incidencias rápidamente, notificando al equipo sobre cambios o fallos para mantener el funcionamiento correcto.
> 8. Feedback Continuo: Evaluación de publicaciones y generación de informes para mejorar procesos y recoger opiniones de los clientes, incorporándolas en versiones futuras.

Estas fases están interrelacionadas y requieren una comunicación constante y coordinación para asegurar la misma velocidad y calidad a lo largo del ciclo de vida del producto.

## 4. Demo

### 4.1. Escenario Práctico

> Una API desarrollada en Python es finalizada para proceder a su despliegue, para lo cual se ha automatizado un pipeline mediante jenkins en donde se desplegará el servicio en el puerto local 3030.

### 4.2. Pasos para la demo

> Para realizar la demo, será necesario:

> 1. Software:
> - Jenkins instalado.
> 2. Cuenta en Plataformas:
> - Cuenta en GitHub.
> 3. Herramientas y Librerías:
> - Git instalado en tu computadora.

Créditos: https://www.youtube.com/watch?v=6njM8g5hKuk

> Los pasos para ejecutar la demo son los siguientes:
> 1. Descargar el código que contiene el API de Python y sus pruebas unitarias:
> - https://github.com/MrcoAlba/appPythonDeploy
> 2. Subimos el proyecto a GitHub
> 3. Abrimos jenkins
> 4. Creamos un pipeline en jenkins y vamos a la sección de pipeline:
> 5. Ingresamos el siguiente script:

pipeline {
    agent any
    stages {
        stage('Checkout') {
            steps {
                checkout scmGit(branches: [[name: 'master']], extensions: [], userRemoteConfigs: [[url: 'https://github.com/MrcoAlba/appPythonDeploy']])
            }
        }
        stage('Install Dependencies') {
            steps {
                sh 'pip3 install --no-cache-dir -r requirements.txt'
            }
        }
        stage('Build') {
            steps {
                git branch: 'master', url: 'https://github.com/MrcoAlba/appPythonDeploy'
                sh 'python3 ops.py'
            }
        }
        stage('Test') {
            steps {
                sh 'python3 -m pytest'
            }
        }
        stage('Deploy') {
            steps {
                sh 'python3 app.py'
            }
        }
    }
}

6. Ejecutamos el script por medio de la opción build now.
7. Hacemos uso de la api en Python por medio de Flask

### 4.3. Resultados

> - Habremos realizado las etapas de devops de desarrollo, construcción, testing y despliegue.
> - La ejecución habrá sido simple y rápida.
> - Para mayor alcance futuro, revisar la siguiente fuente:
> - https://www.youtube.com/watch?v=jbEF3mB7UcU

### 4.4. Video de la demo:

> - https://www.youtube.com/watch?v=z38eo5c3hcg